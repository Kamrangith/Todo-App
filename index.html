<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ultimate Todo App</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          animation: {
            fadeIn: "fadeIn 0.4s ease-out",
          },
          keyframes: {
            fadeIn: {
              "0%": { opacity: 0, transform: "translateY(10px)" },
              "100%": { opacity: 1, transform: "translateY(0)" }
            }
          }
        }
      }
    }
  </script>
</head>
<body class="bg-gradient-to-br from-indigo-200 via-purple-200 to-pink-200 dark:from-gray-800 dark:via-gray-900 dark:to-black min-h-screen flex items-center justify-center px-4">

  <div class="backdrop-blur-xl bg-white/90 dark:bg-gray-800/80 shadow-2xl rounded-3xl w-full max-w-xl p-6 animate-fadeIn">
    <div class="flex items-center justify-between mb-4">
      <h1 class="text-3xl font-bold text-gray-800 dark:text-white">📝 Todo List</h1>
      <button onclick="toggleDarkMode()" class="text-sm text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white transition">
        🌙 Toggle Mode
      </button>
    </div>

    <div class="flex gap-2 mb-6">
      <input id="todo-input" type="text" placeholder="Add a task..."
        class="flex-1 px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 transition" />
      <button onclick="addTodo()"
        class="bg-indigo-500 hover:bg-indigo-600 text-white px-5 py-3 rounded-xl font-medium transition">
        Add
      </button>
    </div>

    <ul id="todo-list" class="space-y-3">
      <!-- Todo items will be rendered here -->
    </ul>
  </div>

  <script>
    const input = document.getElementById("todo-input");
    const list = document.getElementById("todo-list");

    let todos = JSON.parse(localStorage.getItem("todos") || "[]");

    function renderTodos() {
      list.innerHTML = "";
      todos.forEach((todo, index) => {
        const li = document.createElement("li");
        li.className = "flex items-center justify-between bg-white dark:bg-gray-900 px-4 py-3 rounded-xl shadow-md animate-fadeIn";

        const span = document.createElement("span");
        span.textContent = todo.text;
        span.className = `flex-1 cursor-pointer transition ${
          todo.completed ? "line-through text-gray-400" : "text-gray-800 dark:text-white"
        }`;
        span.onclick = () => toggleComplete(index);

        const delBtn = document.createElement("button");
        delBtn.innerHTML = "🗑️";
        delBtn.className = "ml-4 text-red-500 hover:text-red-700 text-xl transition";
        delBtn.onclick = () => deleteTodo(index);

        li.appendChild(span);
        li.appendChild(delBtn);
        list.appendChild(li);
      });
    }

    function addTodo() {
      const text = input.value.trim();
      if (!text) return;

      todos.push({ text, completed: false });
      saveTodos();
      input.value = "";
      input.focus();
    }

    function toggleComplete(index) {
      todos[index].completed = !todos[index].completed;
      saveTodos();
    }

    function deleteTodo(index) {
      todos.splice(index, 1);
      saveTodos();
    }

    function saveTodos() {
      localStorage.setItem("todos", JSON.stringify(todos));
      renderTodos();
    }

    function toggleDarkMode() {
      document.documentElement.classList.toggle("dark");
    }

    input.addEventListener("keydown", (e) => {
      if (e.key === "Enter") addTodo();
    });

    // Initialize
    renderTodos();
  </script>
</body>
</html>
